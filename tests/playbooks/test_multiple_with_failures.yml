---
- hosts: localhost
  gather_facts: false
  tasks:
    - name: set up next test
      command: 'true'
      register: true_
      ignore_errors: true
      tags: diagnostic

    - name: pass
      assert:
        that: true_.rc == 0
      ignore_errors: true

    - name: failed
      assert:
        that: status is defined
      ignore_errors: true

    - name: expected failure
      assert:
        that: false
      ignore_errors: true
      tags: TODO

    - name: unexpected pass
      assert:
        that: true
      ignore_errors: true
      tags: TODO

    - name: skipped
      assert:
        that: false
      ignore_errors: true
      when: false
